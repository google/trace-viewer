<!DOCTYPE HTML>
<html>
<!--
Copyright (c) 2012 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<head>
<title>UI tests</title>
<script src="base.js"></script>
</head>
<body>
<script>
'use strict';

base.defineModule('timeline_test')
    .dependsOn('unittest',
               'ui')
    .runAllTests(function() {

    var tests = {};

    var TestElement = base.ui.define('div');
    TestElement.prototype = {
      __proto__: HTMLDivElement.prototype,

      decorate: function() {
        if (!this.decorateCallCount)
          this.decorateCallCount = 0;
        this.decorateCallCount++;
      }
    };

    tests.testDecorateOnceViaNew = function() {
      var testElement = new TestElement();
      assertEquals(1, testElement.decorateCallCount);
    };

    tests.testDecorateOnceDirectly = function() {
      var testElement = document.createElement('div');
      base.ui.decorate(testElement, TestElement);
      assertEquals(1, testElement.decorateCallCount);
    };
 
    return tests;
});
</script>
</body>
</html>
