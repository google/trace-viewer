<!DOCTYPE HTML>
<html>
<!--
    Copyright (c) 2013 The Chromium Authors. All rights reserved.
    Use of this source code is governed by a BSD-style license that can be
    found in the LICENSE file.
  -->
<script src="/src/base.js"></script>
</head>
<body>
  <script>
    base.require('base.unittest');
    base.require('cc.util');
  </script>
  <script>
    'use strict';

    function testNameConvert() {
      assertEquals('_foo', cc.convertNameToJSConvention('_foo'));
      assertEquals('foo_', cc.convertNameToJSConvention('foo_'));
      assertEquals('foo', cc.convertNameToJSConvention('foo'));
      assertEquals('fooBar', cc.convertNameToJSConvention('foo_bar'));
      assertEquals('fooBarBaz', cc.convertNameToJSConvention('foo_bar_baz'));
    }

    function testObjectConvertNested() {
      var object = {
        foo_bar: {
          a_field: 7
        }
      };
      var expected = {
        fooBar: {
          aField: 7
        }
      };
      cc.preInitializeObject(object);
      assertObjectEquals(expected, object);
    }

    function testArrayConvert() {
      var object = [
        {foo_bar: 7},
        {foo_bar: 8}
      ];
      var expected = [
        {fooBar: 7},
        {fooBar: 8},
      ];
      cc.preInitializeObject(object);
      assertObjectEquals(expected, object);
    }

  </script>
</body>
</html>
